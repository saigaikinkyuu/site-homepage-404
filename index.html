<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>【IR TRAVEL】参加者専用ページ</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="popup.js"></script>
    <meta name="viewport"
   content="width=320,
      height=480,
      initial-scale=1.0,
      minimum-scale=1.0,
      maximum-scale=2.0,
      user-scalable=yes" />
</head>
<body>
    <header>
    <header>
        <header class="header">
            <!-- ヘッダーロゴ -->
            <div class="logo"></div>
          
            <!-- ハンバーガーメニュー部分 -->
            <div class="nav">
                <div style="display: flex;">
            <img src="./IR travel ロゴ.png">
            <h1>IR TRAVEL</h1>
        </div>
          
              <!-- ハンバーガーメニューの表示・非表示を切り替えるチェックボックス -->
              <input id="drawer_input" class="drawer_hidden" type="checkbox">
          
              <!-- ハンバーガーアイコン -->
              <label for="drawer_input" class="drawer_open"><span></span></label>
              
              <!-- メニュー -->
              <nav class="nav_content">
            <ul class="nav_list" style="padding-top: 0px; margin-top: 0px;">
                <a href="#">
                <p id="toggle1-content">サイト情報・申請</p></a>
                <a href="#">
                <p id="toggle-content">イベント情報</p></a>
              </ul>
              </nav>
              </div>
              </header>
</header>
 <!-- ID入力フォーム -->
 <div id="input-form">
    <label for="account-id">アカウントID:</label>
    <input type="text" id="account-id" name="account-id">
    <button id="submit-button">送信</button>
  </div>
  
  <!-- アカウント1用のコンテンツ -->
  
  <!-- アカウント3用のコンテンツ -->
  <div id="content-A78452" class="content">
    <h2 style="text-align: center;">参加者氏名1(名称未設定)</h2>
        <div id="hidden-content" style="display: none;">
            <h2>スペーシアX乗車イベント</h2>
            <h3>このイベントの詳細は以下に記載しておきます。</h3>
            <p>[詳細]</p>
            <p>日程：8/31(木)</p>
            <p>集合時刻：8:00</p>
            <p>集合場所：品川駅トライアングルクロック前</p>
            <p>参加費用：無料</p>
            <p>諸申請受付終了日：7/30(木)</p>
            <p>持ち物：7/31掲載</p>
            <p>備考：現在のところ予定です。やむを得ない理由で中止になる場合がございます。その際は、7/30までにご報告いたします。</p>
            <h3>イベント事前説明会の詳細も合わせて記入いたします。</h3>
            <p>[詳細]</p>
            <p>日程：7/24(月)</p>
            <p>集合時刻：10:00</p>
            <p>集合場所：和楽公園(シティータワー方面)</p>
            <p>キャンセル受付：7/22 23:59まで</p>
            <P>参加者へのお知らせ：イベント参加者は、すべての者が参加頂ますようお願い申し上げます。また、無断キャンセル、キャンセル受付終了後のキャンセル申し付けは、被った損害を保証いただきますので予めご了承ください。</P>
        </div>
        <div id="question-content" style="display: none;">
            <iframe src="https://docs.google.com/forms/d/e/1FAIpQLScFXmgRdSglcG99IiVgZSvJ1_sG6j7qe5kvZx2hada86VIhhg/viewform?embedded=true" width="100%" height="492" frameborder="0" marginheight="0" marginwidth="0">読み込んでいます…</iframe>
            </div>
    <div id="news-content" style="display: block;">
        <h2 style="background-color: red; font-size: 22px; color: white;">イベント参加説明会は、7/24 10:00より実施いたします。無断キャンセルは、被った損害をすべて保証いただきますので予めご了承ください。</h2>
    <h2 style="text-align: center;">お知らせ・更新履歴</h2>
    <p style="text-align: center;">*スクロールできます</p>
    <div class="inner-block">
      <ul class="product-list" style="padding-left: 0px;">
        <li class="product-item3 js-based3">
            <div class="product-data">
              <div class="oneline">
              <p class="time" style="color: gray;"></p>
              <p class="letter1"></p>
          </div>
              <p class="letter2"></p>
            </div>
          </li>
          </ul>
      </div>
      <h2 style="text-align: center;">諸申請</h2>
      <iframe src="https://docs.google.com/forms/d/e/1FAIpQLSce8tcnu_rCKq6qfUeNua57wym8RFhkMkfRV61eezLiVkpOjA/viewform?embedded=true" width="100%" height="400" frameborder="0" marginheight="0" marginwidth="0">読み込んでいます…</iframe>
      <style>
          .product-data p{
      display: inline;
  }
      </style>
      <script>
        var toggleContent = document.getElementById('toggle-content');
var hiddenContent = document.getElementById('hidden-content');
var newsContent = document.getElementById('news-content');
var checkbox = document.getElementById('drawer_input');

toggleContent.addEventListener('click', function() {
    hiddenContent.style.display = 'block';
    newsContent.style.display = 'none';
    questionContent.style.display = 'none';
    checkbox.checked = !checkbox.checked;
});

      </script>
      <script>
        var toggleContent = document.getElementById('toggle1-content');
var hiddenContent = document.getElementById('hidden-content');
var newsContent = document.getElementById('news-content');
var questionContent = document.getElementById('question-content');
var checkbox = document.getElementById('drawer_input');

toggleContent.addEventListener('click', function() {
    hiddenContent.style.display = 'none';
    questionContent.style.display = 'none';
    newsContent.style.display = 'block';
    checkbox.checked = !checkbox.checked;
});

      </script>
      <script>
        var toggleContent = document.getElementById('toggle2-content');
var hiddenContent = document.getElementById('hidden-content');
var newsContent = document.getElementById('news-content');
var questionContent = document.getElementById('question-content');
var checkbox = document.getElementById('drawer_input');

toggleContent.addEventListener('click', function() {
    hiddenContent.style.display = 'none';
    questionContent.style.display = 'block';
    newsContent.style.display = 'none';
    checkbox.checked = !checkbox.checked;
});

      </script>
                                              <script>

                                                var api_url = 'https://script.google.com/macros/s/AKfycbx4P-CITh1QTwUKkqxxp9M8HQLyBc91Oadw40E3lRt_UW1ugCeXAyRLCtAvgbLCVWd3/exec';
                                                
                                                fetch(api_url)
                                                .then(function (fetch_data) {
                                                  return fetch_data.json();
                                                })
                                                .then(function (json) {
                                                  for (var i in json) {
                                                    if (json[i].time && json[i].letter1 && json[i].letter2) {
                                                      var base_element = document.getElementsByClassName('product-item3 js-based3');
                                                      var clone_element = base_element[0].cloneNode(true);
                                                      clone_element.classList.remove('js-based2');
                                                
                                                      // 時間表記の変換
      var timeValue = json[i].time;
      var date = new Date(timeValue);
      var hours = date.getHours();
      var minutes = date.getMinutes();
      var timeValue = json[i].time;
        var date = new Date(timeValue);
        var year = date.getFullYear();
        var month = (date.getMonth() + 1).toString().padStart(2, '0');
        var day = date.getDate().toString().padStart(2, '0');
        var hours = date.getHours().toString().padStart(2, '0');
        var minutes = date.getMinutes().toString().padStart(2, '0');
        var formattedTime = year + '年' + month + '月' + day + '日 ' + hours + ':' + minutes;
                                                
                                                      clone_element.querySelector('.time').textContent = formattedTime;
                                                      clone_element.querySelector('.letter1').textContent = json[i].letter1;
                                                      clone_element.querySelector('.letter2').textContent = json[i].letter2;
                                                
                                                      // 条件に応じてスタイルを適用
                                                      if (json[i].letter1 === '【中止】') {
                                                        clone_element.querySelector('.letter1').classList.add('back-red');
                                                      }
                                                      if (json[i].letter1 === '【重要】') {
                                                        clone_element.querySelector('.letter1').classList.add('back-red');
                                                      }
                                                      if (json[i].letter1 === '【延期】') {
                                                        clone_element.querySelector('.letter1').classList.add('back-red');
                                                      }
                                                      if (json[i].letter1 === '【実施】') {
                                                        clone_element.querySelector('.letter1').classList.add('text-green');
                                                      }
                                                
                                                      base_element[0].parentNode.appendChild(clone_element);
                                                    }
                                                  }
                                                });
                                                
                                                
                                                                      </script>
                                                                      </div>
                  
  </div>

  <div id="error-message" style="color: red;"></div>
  <style>
    .content {
  display: none;
}

.active {
  display: block;
}

  </style>
  <script>
  $(document).ready(function() {
    // 送信ボタンがクリックされたらコンテンツを表示
    $('#submit-button').click(function() {
      var accountID = $('#account-id').val();
      
      // 入力されたアカウントIDに対応するコンテンツを表示
      $('.content').removeClass('active');
      
      if ($('#content-' + accountID).length > 0) {
        $('#content-' + accountID).addClass('active');
        $('#error-message').hide();
        $('#input-form').hide();
      } else {
        $('#error-message').text('IDが異なります');
        $('#error-message').show();
      }
    });
  });
  
  </script>
</body>
</html>